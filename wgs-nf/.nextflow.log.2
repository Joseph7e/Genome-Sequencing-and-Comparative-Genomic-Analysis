Dec-16 15:30:49.982 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf
Dec-16 15:30:50.074 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 24.04.4
Dec-16 15:30:50.092 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/users/jlsevigny1/.nextflow/plugins; core-plugins: nf-amazon@2.5.3,nf-azure@1.6.1,nf-cloudcache@0.4.1,nf-codecommit@0.2.1,nf-console@1.1.3,nf-ga4gh@1.3.0,nf-google@1.13.2-patch1,nf-tower@1.9.1,nf-wave@1.4.2-patch1
Dec-16 15:30:50.102 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Dec-16 15:30:50.103 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Dec-16 15:30:50.105 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Dec-16 15:30:50.117 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Dec-16 15:30:50.173 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Dec-16 15:30:50.191 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [deadly_lorenz] DSL2 - revision: 845892eb0e
Dec-16 15:30:50.193 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Dec-16 15:30:50.194 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Dec-16 15:30:50.266 [main] DEBUG nextflow.Session - Session UUID: 51b10c64-133b-47b6-a659-186241bbc0b8
Dec-16 15:30:50.266 [main] DEBUG nextflow.Session - Run name: deadly_lorenz
Dec-16 15:30:50.267 [main] DEBUG nextflow.Session - Executor pool size: 256
Dec-16 15:30:50.275 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Dec-16 15:30:50.281 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=768; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Dec-16 15:30:50.306 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 24.04.4 build 5917
  Created: 01-08-2024 07:05 UTC (03:05 EDT)
  System: Linux 5.14.0-503.15.1.el9_5.x86_64
  Runtime: Groovy 4.0.21 on OpenJDK 64-Bit Server VM 11.0.13+7-b1751.21
  Encoding: UTF-8 (UTF-8)
  Process: 3127624@ron.sr.unh.edu [132.177.250.79]
  CPUs: 256 - Mem: 3 TB (174.6 GB) - Swap: 4 GB (4 GB)
Dec-16 15:30:50.325 [main] DEBUG nextflow.Session - Work-dir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work [xfs]
Dec-16 15:30:50.342 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Dec-16 15:30:50.352 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Dec-16 15:30:50.376 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Dec-16 15:30:50.387 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 257; maxThreads: 1000
Dec-16 15:30:50.440 [main] DEBUG nextflow.Session - Session start
Dec-16 15:30:51.217 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Dec-16 15:30:51.228 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/users/jlsevigny1/.nextflow/secrets/store.json
Dec-16 15:30:51.236 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@7f1f60a0] - activable => nextflow.secret.LocalSecretsProvider@7f1f60a0
Dec-16 15:30:51.411 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:30:51.412 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:30:51.419 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Dec-16 15:30:51.425 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=256; memory=3 TB; capacity=256; pollInterval=100ms; dumpInterval=5m
Dec-16 15:30:51.427 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Dec-16 15:30:51.512 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:30:51.512 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:30:51.518 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:30:51.518 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:30:51.534 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:30:51.534 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:30:51.540 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:30:51.540 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:30:51.544 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:30:51.544 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:30:51.547 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:30:51.548 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:30:51.559 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: run_bwa, run_busco, run_blast, run_quast, run_spades, run_fastqc, run_fastp, run_bakta, finalizeResults, contamination_check, run_blobtools
Dec-16 15:30:51.559 [main] DEBUG nextflow.Session - Igniting dataflow network (8)
Dec-16 15:30:51.566 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_fastqc
Dec-16 15:30:51.566 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: ./raw-reads/; pattern: *_{1,2}.fastq.gz; options: [:]
Dec-16 15:30:51.569 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_fastp
Dec-16 15:30:51.569 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_spades
Dec-16 15:30:51.570 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_bwa
Dec-16 15:30:51.572 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_busco
Dec-16 15:30:51.573 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_quast
Dec-16 15:30:51.575 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_blast
Dec-16 15:30:51.577 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_a34f09e602930ab8: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/main.nf
Dec-16 15:30:51.577 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Dec-16 15:30:51.577 [main] DEBUG nextflow.Session - Session await
Dec-16 15:30:51.846 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:30:51.848 [Task submitter] INFO  nextflow.Session - [a2/71811a] Submitted process > run_fastp (2)
Dec-16 15:30:51.856 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:30:51.857 [Task submitter] INFO  nextflow.Session - [fa/375893] Submitted process > run_fastp (1)
Dec-16 15:30:51.862 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:30:51.863 [Task submitter] INFO  nextflow.Session - [5c/151578] Submitted process > run_fastqc (1)
Dec-16 15:30:51.873 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:30:51.874 [Task submitter] INFO  nextflow.Session - [f0/2e6424] Submitted process > run_fastqc (2)
Dec-16 15:30:52.235 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: run_fastp (2); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/a2/71811a5c9838d7dc5c498d0af79cc7]
Dec-16 15:30:52.236 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=768; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Dec-16 15:30:52.242 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: run_fastp (1); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/fa/3758930164cb6901b1160aee3b6ef3]
Dec-16 15:30:52.253 [Actor Thread 39] INFO  nextflow.script.BaseScript - FASTP results: [/home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/a2/71811a5c9838d7dc5c498d0af79cc7/trimmed_R1.fastq.gz, /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/a2/71811a5c9838d7dc5c498d0af79cc7/trimmed_R2.fastq.gz]
Dec-16 15:30:52.255 [Actor Thread 39] INFO  nextflow.script.BaseScript - FASTP results: [/home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/fa/3758930164cb6901b1160aee3b6ef3/trimmed_R1.fastq.gz, /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/fa/3758930164cb6901b1160aee3b6ef3/trimmed_R2.fastq.gz]
Dec-16 15:30:52.277 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:30:52.278 [Task submitter] INFO  nextflow.Session - [04/f34c7a] Submitted process > run_spades (1)
Dec-16 15:30:52.281 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:30:52.282 [Task submitter] INFO  nextflow.Session - [3d/6bdfed] Submitted process > run_spades (2)
Dec-16 15:30:54.106 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: run_fastqc (1); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/5c/151578029a1d2c9b18f073fa91ed16]
Dec-16 15:30:54.110 [Actor Thread 49] INFO  nextflow.script.BaseScript - FASTQC results: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/5c/151578029a1d2c9b18f073fa91ed16/output-fastqc
Dec-16 15:30:54.115 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: run_fastqc (2); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/f0/2e642453e52bf17c8f19fda8ddb8c9]
Dec-16 15:30:54.117 [Actor Thread 52] INFO  nextflow.script.BaseScript - FASTQC results: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/f0/2e642453e52bf17c8f19fda8ddb8c9/output-fastqc
Dec-16 15:31:00.215 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 6; name: run_spades (2); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/3d/6bdfedcda7826f4a97f131acbd8b1b]
Dec-16 15:31:00.218 [Actor Thread 59] INFO  nextflow.script.BaseScript - Assembly results: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/3d/6bdfedcda7826f4a97f131acbd8b1b/output-spades/contigs.fasta
Dec-16 15:31:00.226 [Actor Thread 64] WARN  nextflow.script.ScriptBinding - Access to undefined parameter `blast` -- Initialise it to a default value eg. `params.blast = some_value`
Dec-16 15:31:00.235 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:31:00.235 [Task submitter] INFO  nextflow.Session - [04/761b94] Submitted process > run_quast (1)
Dec-16 15:31:00.247 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:31:00.248 [Task submitter] INFO  nextflow.Session - [a7/0777ae] Submitted process > run_bwa (2)
Dec-16 15:31:00.251 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:31:00.252 [Task submitter] INFO  nextflow.Session - [20/145e1a] Submitted process > run_bwa (1)
Dec-16 15:31:00.254 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:31:00.255 [Task submitter] INFO  nextflow.Session - [32/6c0a19] Submitted process > run_busco (1)
Dec-16 15:31:00.257 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:31:00.258 [Task submitter] INFO  nextflow.Session - [d1/e6b7d4] Submitted process > run_blast (1)
Dec-16 15:31:00.381 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 7; name: run_blast (1); status: COMPLETED; exit: 1; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/d1/e6b7d4966c0bd0f122a8113f0c580a]
Dec-16 15:31:00.386 [TaskFinalizer-6] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=run_blast (1); work-dir=/home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/d1/e6b7d4966c0bd0f122a8113f0c580a
  error [nextflow.exception.ProcessFailedException]: Process `run_blast (1)` terminated with an error exit status (1)
Dec-16 15:31:00.401 [TaskFinalizer-6] ERROR nextflow.processor.TaskProcessor - Error executing process > 'run_blast (1)'

Caused by:
  Process `run_blast (1)` terminated with an error exit status (1)


Command executed:

  blastn         -task megablast         -query contigs.fasta         -db /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/databases/blast_db/small_db         -outfmt '6 qseqid staxids bitscore std'         -max_target_seqs 1         -max_hsps 1         -num_threads null         -evalue 1e-25         -out genome.vs.nt.mts1.hsp1.1e25.megablast.out

Command exit status:
  1

Command output:
  (empty)

Command error:
  USAGE
    blastn [-h] [-help] [-import_search_strategy filename]
      [-export_search_strategy filename] [-task task_name] [-db database_name]
      [-dbsize num_letters] [-gilist filename] [-seqidlist filename]
      [-negative_gilist filename] [-negative_seqidlist filename]
      [-taxids taxids] [-negative_taxids taxids] [-taxidlist filename]
      [-negative_taxidlist filename] [-no_taxid_expansion]
      [-entrez_query entrez_query] [-db_soft_mask filtering_algorithm]
      [-db_hard_mask filtering_algorithm] [-subject subject_input_file]
      [-subject_loc range] [-query input_file] [-out output_file]
      [-evalue evalue] [-word_size int_value] [-gapopen open_penalty]
      [-gapextend extend_penalty] [-perc_identity float_value]
      [-qcov_hsp_perc float_value] [-max_hsps int_value]
      [-xdrop_ungap float_value] [-xdrop_gap float_value]
      [-xdrop_gap_final float_value] [-searchsp int_value] [-penalty penalty]
      [-reward reward] [-no_greedy] [-min_raw_gapped_score int_value]
      [-template_type type] [-template_length int_value] [-dust DUST_options]
      [-filtering_db filtering_database]
      [-window_masker_taxid window_masker_taxid]
      [-window_masker_db window_masker_db] [-soft_masking soft_masking]
      [-ungapped] [-culling_limit int_value] [-best_hit_overhang float_value]
      [-best_hit_score_edge float_value] [-subject_besthit]
      [-window_size int_value] [-off_diagonal_range int_value]
      [-use_index boolean] [-index_name string] [-lcase_masking]
      [-query_loc range] [-strand strand] [-parse_deflines] [-outfmt format]
      [-show_gis] [-num_descriptions int_value] [-num_alignments int_value]
      [-line_length line_length] [-html] [-sorthits sort_hits]
      [-sorthsps sort_hsps] [-max_target_seqs num_sequences]
      [-num_threads int_value] [-mt_mode int_value] [-remote] [-version]
  
  DESCRIPTION
     Nucleotide-Nucleotide BLAST 2.15.0+
  
  Use '-help' to print detailed descriptions of command line arguments
  ========================================================================
  
  Error: Cannot convert string 'null' to Int8 (m_Pos = 0)
  Error: Argument "num_threads". Argument cannot be converted:  `null'
  Error:  (CArgException::eConvert) Argument "num_threads". Argument cannot be converted:  `null'

Work dir:
  /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/d1/e6b7d4966c0bd0f122a8113f0c580a

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Dec-16 15:31:00.416 [TaskFinalizer-6] DEBUG nextflow.Session - Session aborted -- Cause: Process `run_blast (1)` terminated with an error exit status (1)
Dec-16 15:31:00.428 [TaskFinalizer-6] DEBUG nextflow.Session - The following nodes are still active:
[process] run_bwa
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] run_busco
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: genome
  port 1: (cntrl) -     ; channel: $

[process] run_quast
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: genome
  port 1: (cntrl) -     ; channel: $

[process] run_blast
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: genome
  port 1: (cntrl) -     ; channel: $

Dec-16 15:31:00.436 [main] DEBUG nextflow.Session - Session await > all processes finished
Dec-16 15:31:00.439 [main] DEBUG nextflow.Session - Session await > all barriers passed
Dec-16 15:31:00.439 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Dec-16 15:31:00.453 [main] WARN  n.processor.TaskPollingMonitor - Killing running tasks (5)
Dec-16 15:31:00.492 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=5; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=5; succeedDuration=12.8s; failedDuration=63ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=6; peakCpus=6; peakMemory=0; ]
Dec-16 15:31:00.618 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Dec-16 15:31:00.631 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
