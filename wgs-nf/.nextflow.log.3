Dec-16 15:29:28.774 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf
Dec-16 15:29:28.862 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 24.04.4
Dec-16 15:29:28.879 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/users/jlsevigny1/.nextflow/plugins; core-plugins: nf-amazon@2.5.3,nf-azure@1.6.1,nf-cloudcache@0.4.1,nf-codecommit@0.2.1,nf-console@1.1.3,nf-ga4gh@1.3.0,nf-google@1.13.2-patch1,nf-tower@1.9.1,nf-wave@1.4.2-patch1
Dec-16 15:29:28.888 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Dec-16 15:29:28.889 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Dec-16 15:29:28.892 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Dec-16 15:29:28.903 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Dec-16 15:29:28.956 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Dec-16 15:29:28.973 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [determined_moriondo] DSL2 - revision: 01323af8a8
Dec-16 15:29:28.974 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Dec-16 15:29:28.975 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Dec-16 15:29:29.045 [main] DEBUG nextflow.Session - Session UUID: 77a5e41d-132b-4e66-8ccc-3f76a64093bc
Dec-16 15:29:29.045 [main] DEBUG nextflow.Session - Run name: determined_moriondo
Dec-16 15:29:29.045 [main] DEBUG nextflow.Session - Executor pool size: 256
Dec-16 15:29:29.053 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Dec-16 15:29:29.059 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=768; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Dec-16 15:29:29.082 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 24.04.4 build 5917
  Created: 01-08-2024 07:05 UTC (03:05 EDT)
  System: Linux 5.14.0-503.15.1.el9_5.x86_64
  Runtime: Groovy 4.0.21 on OpenJDK 64-Bit Server VM 11.0.13+7-b1751.21
  Encoding: UTF-8 (UTF-8)
  Process: 3125013@ron.sr.unh.edu [132.177.250.79]
  CPUs: 256 - Mem: 3 TB (176.1 GB) - Swap: 4 GB (4 GB)
Dec-16 15:29:29.100 [main] DEBUG nextflow.Session - Work-dir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work [xfs]
Dec-16 15:29:29.117 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Dec-16 15:29:29.126 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Dec-16 15:29:29.149 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Dec-16 15:29:29.159 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 257; maxThreads: 1000
Dec-16 15:29:29.208 [main] DEBUG nextflow.Session - Session start
Dec-16 15:29:29.933 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Dec-16 15:29:29.942 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/users/jlsevigny1/.nextflow/secrets/store.json
Dec-16 15:29:29.949 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@77ea806f] - activable => nextflow.secret.LocalSecretsProvider@77ea806f
Dec-16 15:29:30.088 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:29:30.089 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:29:30.094 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Dec-16 15:29:30.099 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=256; memory=3 TB; capacity=256; pollInterval=100ms; dumpInterval=5m
Dec-16 15:29:30.101 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Dec-16 15:29:30.179 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:29:30.179 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:29:30.184 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:29:30.184 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:29:30.198 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:29:30.199 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:29:30.203 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:29:30.203 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:29:30.208 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:29:30.208 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:29:30.212 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-16 15:29:30.212 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-16 15:29:30.227 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: run_bwa, run_busco, run_blast, run_quast, run_spades, run_fastqc, run_fastp, run_bakta, finalizeResults, contamination_check, run_blobtools
Dec-16 15:29:30.228 [main] DEBUG nextflow.Session - Igniting dataflow network (8)
Dec-16 15:29:30.235 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_fastqc
Dec-16 15:29:30.235 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: ./raw-reads/; pattern: *_{1,2}.fastq.gz; options: [:]
Dec-16 15:29:30.237 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_fastp
Dec-16 15:29:30.237 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_spades
Dec-16 15:29:30.238 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_bwa
Dec-16 15:29:30.239 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_busco
Dec-16 15:29:30.241 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_quast
Dec-16 15:29:30.243 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_blast
Dec-16 15:29:30.245 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_4d87c61d0b9c719b: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/main.nf
Dec-16 15:29:30.245 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Dec-16 15:29:30.245 [main] DEBUG nextflow.Session - Session await
Dec-16 15:29:30.474 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:30.476 [Task submitter] INFO  nextflow.Session - [45/52ab4a] Submitted process > run_fastp (1)
Dec-16 15:29:30.483 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:30.484 [Task submitter] INFO  nextflow.Session - [e1/81fd68] Submitted process > run_fastqc (1)
Dec-16 15:29:30.488 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:30.489 [Task submitter] INFO  nextflow.Session - [bc/630a1a] Submitted process > run_fastp (2)
Dec-16 15:29:30.493 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:30.493 [Task submitter] INFO  nextflow.Session - [77/686c16] Submitted process > run_fastqc (2)
Dec-16 15:29:30.849 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: run_fastp (2); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/bc/630a1ac97e038d2b7ca28dd0f9975a]
Dec-16 15:29:30.850 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=768; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Dec-16 15:29:30.867 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: run_fastp (1); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/45/52ab4a17f25fbe531c0e326da68fcc]
Dec-16 15:29:30.867 [Actor Thread 39] INFO  nextflow.script.BaseScript - FASTP results: [/home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/bc/630a1ac97e038d2b7ca28dd0f9975a/trimmed_R1.fastq.gz, /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/bc/630a1ac97e038d2b7ca28dd0f9975a/trimmed_R2.fastq.gz]
Dec-16 15:29:30.871 [Actor Thread 44] INFO  nextflow.script.BaseScript - FASTP results: [/home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/45/52ab4a17f25fbe531c0e326da68fcc/trimmed_R1.fastq.gz, /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/45/52ab4a17f25fbe531c0e326da68fcc/trimmed_R2.fastq.gz]
Dec-16 15:29:30.886 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:30.888 [Task submitter] INFO  nextflow.Session - [a5/a8feb9] Submitted process > run_spades (1)
Dec-16 15:29:30.891 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:30.892 [Task submitter] INFO  nextflow.Session - [be/648297] Submitted process > run_spades (2)
Dec-16 15:29:32.723 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: run_fastqc (1); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/e1/81fd683356a72232ba65251eb05467]
Dec-16 15:29:32.727 [Actor Thread 55] INFO  nextflow.script.BaseScript - FASTQC results: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/e1/81fd683356a72232ba65251eb05467/output-fastqc
Dec-16 15:29:32.729 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: run_fastqc (2); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/77/686c16187b680701c87dc60bf5565d]
Dec-16 15:29:32.731 [Actor Thread 58] INFO  nextflow.script.BaseScript - FASTQC results: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/77/686c16187b680701c87dc60bf5565d/output-fastqc
Dec-16 15:29:39.034 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 6; name: run_spades (2); status: COMPLETED; exit: 0; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/be/648297b78d19bd192f6dd567d3996a]
Dec-16 15:29:39.040 [Actor Thread 65] INFO  nextflow.script.BaseScript - Assembly results: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/be/648297b78d19bd192f6dd567d3996a/output-spades/contigs.fasta
Dec-16 15:29:39.049 [Actor Thread 71] WARN  nextflow.script.ScriptBinding - Access to undefined parameter `num_threads` -- Initialise it to a default value eg. `params.num_threads = some_value`
Dec-16 15:29:39.057 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:39.058 [Task submitter] INFO  nextflow.Session - [a8/e060dc] Submitted process > run_quast (1)
Dec-16 15:29:39.068 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:39.069 [Task submitter] INFO  nextflow.Session - [f6/351026] Submitted process > run_bwa (1)
Dec-16 15:29:39.072 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:39.073 [Task submitter] INFO  nextflow.Session - [19/d855db] Submitted process > run_bwa (2)
Dec-16 15:29:39.075 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:39.075 [Task submitter] INFO  nextflow.Session - [cf/10a0bd] Submitted process > run_busco (1)
Dec-16 15:29:39.085 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-16 15:29:39.085 [Task submitter] INFO  nextflow.Session - [c3/9d8f35] Submitted process > run_blast (1)
Dec-16 15:29:39.209 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 7; name: run_blast (1); status: COMPLETED; exit: 1; error: -; workDir: /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/c3/9d8f35a1e32eec3767080f46b0e727]
Dec-16 15:29:39.220 [TaskFinalizer-6] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=run_blast (1); work-dir=/home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/c3/9d8f35a1e32eec3767080f46b0e727
  error [nextflow.exception.ProcessFailedException]: Process `run_blast (1)` terminated with an error exit status (1)
Dec-16 15:29:39.274 [TaskFinalizer-6] ERROR nextflow.processor.TaskProcessor - Error executing process > 'run_blast (1)'

Caused by:
  Process `run_blast (1)` terminated with an error exit status (1)


Command executed:

  blastn         -task megablast         -query contigs.fasta         -db /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/databases/blast_db/small_db         -outfmt '6 qseqid staxids bitscore std'         -max_target_seqs 1         -max_hsps 1         -num_threads null         -evalue 1e-25         -out genome.vs.nt.mts1.hsp1.1e25.megablast.out

Command exit status:
  1

Command output:
  (empty)

Command error:
  USAGE
    blastn [-h] [-help] [-import_search_strategy filename]
      [-export_search_strategy filename] [-task task_name] [-db database_name]
      [-dbsize num_letters] [-gilist filename] [-seqidlist filename]
      [-negative_gilist filename] [-negative_seqidlist filename]
      [-taxids taxids] [-negative_taxids taxids] [-taxidlist filename]
      [-negative_taxidlist filename] [-no_taxid_expansion]
      [-entrez_query entrez_query] [-db_soft_mask filtering_algorithm]
      [-db_hard_mask filtering_algorithm] [-subject subject_input_file]
      [-subject_loc range] [-query input_file] [-out output_file]
      [-evalue evalue] [-word_size int_value] [-gapopen open_penalty]
      [-gapextend extend_penalty] [-perc_identity float_value]
      [-qcov_hsp_perc float_value] [-max_hsps int_value]
      [-xdrop_ungap float_value] [-xdrop_gap float_value]
      [-xdrop_gap_final float_value] [-searchsp int_value] [-penalty penalty]
      [-reward reward] [-no_greedy] [-min_raw_gapped_score int_value]
      [-template_type type] [-template_length int_value] [-dust DUST_options]
      [-filtering_db filtering_database]
      [-window_masker_taxid window_masker_taxid]
      [-window_masker_db window_masker_db] [-soft_masking soft_masking]
      [-ungapped] [-culling_limit int_value] [-best_hit_overhang float_value]
      [-best_hit_score_edge float_value] [-subject_besthit]
      [-window_size int_value] [-off_diagonal_range int_value]
      [-use_index boolean] [-index_name string] [-lcase_masking]
      [-query_loc range] [-strand strand] [-parse_deflines] [-outfmt format]
      [-show_gis] [-num_descriptions int_value] [-num_alignments int_value]
      [-line_length line_length] [-html] [-sorthits sort_hits]
      [-sorthsps sort_hsps] [-max_target_seqs num_sequences]
      [-num_threads int_value] [-mt_mode int_value] [-remote] [-version]
  
  DESCRIPTION
     Nucleotide-Nucleotide BLAST 2.15.0+
  
  Use '-help' to print detailed descriptions of command line arguments
  ========================================================================
  
  Error: Cannot convert string 'null' to Int8 (m_Pos = 0)
  Error: Argument "num_threads". Argument cannot be converted:  `null'
  Error:  (CArgException::eConvert) Argument "num_threads". Argument cannot be converted:  `null'

Work dir:
  /home/users/jlsevigny1/nextflow-workflows/nigms-wgs/work/c3/9d8f35a1e32eec3767080f46b0e727

Tip: you can try to figure out what's wrong by changing to the process work dir and showing the script file named `.command.sh`
Dec-16 15:29:39.279 [TaskFinalizer-6] DEBUG nextflow.Session - Session aborted -- Cause: Process `run_blast (1)` terminated with an error exit status (1)
Dec-16 15:29:39.288 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Dec-16 15:29:39.294 [TaskFinalizer-6] DEBUG nextflow.Session - The following nodes are still active:
[process] run_bwa
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] run_busco
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: genome
  port 1: (cntrl) -     ; channel: $

[process] run_quast
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: genome
  port 1: (cntrl) -     ; channel: $

[process] run_blast
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: genome
  port 1: (cntrl) -     ; channel: $

Dec-16 15:29:39.296 [main] DEBUG nextflow.Session - Session await > all processes finished
Dec-16 15:29:39.299 [main] DEBUG nextflow.Session - Session await > all barriers passed
Dec-16 15:29:39.308 [main] WARN  n.processor.TaskPollingMonitor - Killing running tasks (5)
Dec-16 15:29:39.342 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=5; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=5; succeedDuration=13.2s; failedDuration=74ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=6; peakCpus=6; peakMemory=0; ]
Dec-16 15:29:39.489 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Dec-16 15:29:39.502 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
